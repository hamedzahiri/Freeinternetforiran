# ๐ Conduit: High-Performance Proxy Tunnel
### ููุงุช ุณุฑุนุช ู ุงููุช | ุชููู ุงุฎุชุตุงุต ุจุง ูุงุจูุช ุนุจูุฑ ุงุฒ ูุญุฏูุฏุชโูุง

ุงู ุฑุงูููุง ุดูุง ุฑุง ุฏุฑ ูุตุจุ ุงููโุณุงุฒ ู ุงุฌุฑุง Conduit ุจุฑ ุฑู ุณุฑูุฑ ูููฺฉุณ ุงุฑ ูโฺฉูุฏ.

## ๐ ูพุดโูุงุฒูุง ู ูุตุจ (Installation)

ุงุจุชุฏุง ูพฺฉุฌโูุง ุถุฑูุฑ ุฑุง ูุตุจ ฺฉุฑุฏู ู ูุณุชู ุจุฑูุงูู ุฑุง ุฏุงูููุฏ ฺฉูุฏ.

```bash
# ฑ. ุจูโุฑูุฒุฑุณุงู ู ูุตุจ ูพุดโูุงุฒูุง
sudo apt update && sudo apt install -y curl ipset iptables-persistent netfilter-persistent

# ฒ. ุฏุงูููุฏ ู ุขูุงุฏูโุณุงุฒ ูุงู ุงุฌุฑุง
cd /opt
sudo curl -L -o conduit https://github.com/ssmirr/conduit/releases/download/87cc1a3/conduit-linux-amd64

# ณ. ุฏุงุฏู ุฏุณุชุฑุณ ุงุฌุฑุง
sudo chmod +x conduit
```

## ๐ก ฺฏุงุฑุฏ ุงููุช: ูุญุฏูุฏุณุงุฒ ุจู ุงุฑุงู (Geo-Fencing)

ุจุง ุงุฌุฑุง ุฏุณุชูุฑุงุช ุฒุฑุ ุณุฑูุฑ ุดูุง ููุท ุจู ุฏุฑุฎูุงุณุชโูุง ฺฉู ุงุฒ ุฏุงุฎู ุงุฑุงู ูโุขูุฏ ูพุงุณุฎ ูโุฏูุฏ. ุงู ฺฉุงุฑ ุงููุช ุณุฑูุฑ ุฑุง ุฏุฑ ุจุฑุงุจุฑ ุงุณฺฉูุฑูุง ุฎุงุฑุฌ ุชุถูู ูโฺฉูุฏ.

```bash
# ฑ. ุณุงุฎุช ูุณุช ุณูุฏ IPูุง ุงุฑุงู
sudo ipset create iran_ips hash:net maxelem 100000
curl -s https://www.ipdeny.com/ipblocks/data/countries/ir.zone | xargs -I {} sudo ipset add iran_ips {}

# ฒ. ุชูุธู ูุงุฑูุงู (SSH ุจุฑุง ููู ุจุงุฒุ ูพุฑูฺฉุณ ููุท ุจุฑุง ุงุฑุงู)
sudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT
sudo iptables -A INPUT -p tcp --dport 1080 -m set --match-set iran_ips src -j ACCEPT
sudo iptables -A INPUT -p tcp --dport 1080 -j DROP

# ณ. ุฐุฎุฑูโุณุงุฒ ุฏุงุฆู (ุจุณุงุฑ ููู: ุฌููฺฏุฑ ุงุฒ ุญุฐู ุจุนุฏ ุงุฒ ุฑุณุชุงุฑุช)
sudo netfilter-persistent save
```

## โ๏ธ ุงุฌุฑุง ุญุฑููโุง (Service Mode)

ุจู ุฌุง ุงุฌุฑุง ุฏุณุชุ Conduit ุฑุง ุจู ุนููุงู ฺฉ ุณุฑูุณ ุณุณุชู ุชุนุฑู ฺฉูุฏ ุชุง ููุดู (ุญุช ูพุณ ุงุฒ ุฑุณุชุงุฑุช ุณุฑูุฑ) ูุนุงู ุจูุงูุฏ.

### ฑ. ุณุงุฎุช ูุงู ุณุฑูุณ

ูุงู ุฒุฑ ุฑุง ุงุฌุงุฏ ฺฉูุฏ:

```bash
sudo nano /etc/systemd/system/conduit.service
```

ู ูุญุชูุง ุฒุฑ ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ุฏูุฏ (ุชูุธูุงุช ุจุฑุง ฑฐฐฐ ฺฉุงุฑุจุฑ):

```ini
[Unit]
Description=Conduit Proxy Service
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/opt
# ุชูุธูุงุช: ูพูุฑุช ฑฐธฐุ ูุญุฏูุฏุช ุณุฑุนุช ฒ ูฺฏุงุจุชุ ุธุฑูุช ฑฐฐฐ ฺฉุงุฑุจุฑ
ExecStart=/opt/conduit start -v -b 2 -m 1000
Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target
```

### ฒ. ูุนุงูโุณุงุฒ ู ุงุฌุฑุง

```bash
sudo systemctl daemon-reload
sudo systemctl enable conduit
sudo systemctl start conduit
```

### ณ. ุจุฑุฑุณ ูุถุนุช

```bash
sudo systemctl status conduit
```

## โก ููุงุณโูพุฐุฑ (Scalability Tips)

ฺฉุงูุฏูุช (Conduit) ุจุฑุง ุจุงุฑ ุชุฑุงูฺฉ ุจุงูุง ุทุฑุงุญ ุดุฏู ุงุณุช. ุดูุง ูโุชูุงูุฏ ุชูุธูุงุช `ExecStart` ุฏุฑ ูุงู ุณุฑูุณ ุฑุง ุจุฑ ุงุณุงุณ ูุงุฒ ุฎูุฏ ุชุบุฑ ุฏูุฏ:

| ูพุงุฑุงูุชุฑ | ุชูุถุญุงุช | ููุฏุงุฑ ูพุดููุงุฏ |
| :--- | :--- | :--- |
| `-m` | **Max Clients**: ุญุฏุงฺฉุซุฑ ุชุนุฏุงุฏ ฺฉุงุฑุจุฑ ููุฒูุงู | 200 (ูพุงู) ุชุง 2000 (ุญุฑููโุง) |
| `-b` | **Bandwidth Limit**: ูุญุฏูุฏุช ุณุฑุนุช ูุฑ ฺฉุงุฑุจุฑ (Mbps) | 2 (ุตุฑููโุฌู) ุชุง 10 (ุขุฒุงุฏ) |
| `-v` | **Verbose**: ููุงุด ูุงฺฏโูุง ุฏูู | ุจุฑุง ุฏุจุงฺฏ ุงุณุชูุงุฏู ุดูุฏ |

> **ูฺฉุชู ุทูุง:** ุจุฑุง ุณุฑูุฑูุง ุจุง ุฑู ด ฺฏฺฏุงุจุงุช ุจู ุจุงูุงุ ูโุชูุงูุฏ `-m` ุฑุง ุฑู ฒฐฐฐ ุชูุธู ฺฉูุฏ ุชุง ูพุงุณุฎฺฏู ุชุฑุงูฺฉ ุณูฺฏู ุจุงุดุฏ.
